# Bot-sysadmin ‚Äî Telegram-–±–æ—Ç –¥–ª—è –ø—Ä–∏—ë–º–∞ –∑–∞—è–≤–æ–∫ –Ω–∞ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Telegram-–±–æ—Ç –¥–ª—è –ø—Ä–∏—ë–º–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É.
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ–∑–¥–∞—é—Ç –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç—É –∏–ª–∏ –∏–∑ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞.
–ó–∞—è–≤–∫–∏ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–±—â–∏–π –∫–∞–Ω–∞–ª/—á–∞—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤, –≥–¥–µ –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç –≤–∑—è—Ç—å –∑–∞—è–≤–∫—É –≤ —Ä–∞–±–æ—Ç—É.

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **–Ø–∑—ã–∫:** Python 3.11+
- **Telegram-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞:** aiogram 3.x
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** SQLite (—á–µ—Ä–µ–∑ aiosqlite) ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞—è–≤–æ–∫, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞–¥–º–∏–Ω–æ–≤
- **ORM:** SQLAlchemy 2.x (async) –∏–ª–∏ —á–∏—Å—Ç—ã–π SQL —á–µ—Ä–µ–∑ aiosqlite
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** python-dotenv (.env —Ñ–∞–π–ª)
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –º–æ–¥—É–ª—å logging

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Bot-sysadmin/
‚îú‚îÄ‚îÄ CLAUDE.md              # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îú‚îÄ‚îÄ TZ.md                  # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ .env                   # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ .env.example           # –ü—Ä–∏–º–µ—Ä .env
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py            # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py      # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Ticket, User, Admin)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.py    # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.py        # –•–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py       # –•–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è –∞–¥–º–∏–Ω–æ–≤ (–≤–∑—è—Ç—å/–∑–∞–∫—Ä—ã—Ç—å –∑–∞—è–≤–∫—É)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ common.py      # –û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã (/start, /help)
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ inline.py      # Inline-–∫–Ω–æ–ø–∫–∏ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã, –¥–µ–π—Å—Ç–≤–∏—è)
‚îÇ   ‚îú‚îÄ‚îÄ middlewares/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ access.py      # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
‚îÇ   ‚îî‚îÄ‚îÄ utils/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îî‚îÄ‚îÄ ticket.py      # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∑–∞—è–≤–∫–∞–º–∏
‚îî‚îÄ‚îÄ data/
    ‚îî‚îÄ‚îÄ bot.db             # –§–∞–π–ª –ë–î SQLite (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### 1. –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

| –†–æ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å** | –õ—é–±–æ–π, –∫—Ç–æ –ø–∏—à–µ—Ç –±–æ—Ç—É. –ú–æ–∂–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞—è–≤–∫–∏ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Ö —Å—Ç–∞—Ç—É—Å |
| **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä** | –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–¥–º–∏–Ω (ID –≤ –∫–æ–Ω—Ñ–∏–≥–µ –∏–ª–∏ –ë–î). –ú–æ–∂–µ—Ç –±—Ä–∞—Ç—å –∑–∞—è–≤–∫–∏, –æ—Ç–≤–µ—á–∞—Ç—å, –∑–∞–∫—Ä—ã–≤–∞—Ç—å |
| **–°—Ç–∞—Ä—à–∏–π –∞–¥–º–∏–Ω** | –ú–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –∞–¥–º–∏–Ω–æ–≤, –≤–∏–¥–∏—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É |

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

**–°—Ü–µ–Ω–∞—Ä–∏–π –∏–∑ –ª–∏—á–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –±–æ—Ç—É `/start` ‚Üí –ø–æ–ª—É—á–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É" –∏–ª–∏ –ø–∏—à–µ—Ç `/new`
3. –ë–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç **–∫–∞—Ç–µ–≥–æ—Ä–∏—é** (inline-–∫–Ω–æ–ø–∫–∏):
   - –°–µ—Ç—å / –ò–Ω—Ç–µ—Ä–Ω–µ—Ç
   - –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ
   - –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
   - –î–æ—Å—Ç—É–ø—ã / –£—á—ë—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏
   - –î—Ä—É–≥–æ–µ
4. –ë–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç **–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** (inline-–∫–Ω–æ–ø–∫–∏):
   - üü¢ –ù–∏–∑–∫–∏–π ‚Äî –Ω–µ —Å—Ä–æ—á–Ω–æ
   - üü° –°—Ä–µ–¥–Ω–∏–π ‚Äî –º–µ—à–∞–µ—Ç —Ä–∞–±–æ—Ç–µ
   - üî¥ –í—ã—Å–æ–∫–∏–π ‚Äî —Ä–∞–±–æ—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç **–æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã** (—Ç–µ–∫—Å—Ç, –º–æ–∂–Ω–æ —Å —Ñ–æ—Ç–æ/—Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏)
6. –ë–æ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –∏ –≤—ã–¥–∞—ë—Ç **–Ω–æ–º–µ—Ä —Ç–∏–∫–µ—Ç–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `#00042`)

**–°—Ü–µ–Ω–∞—Ä–∏–π –∏–∑ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–∏—à–µ—Ç –∫–æ–º–∞–Ω–¥—É `/ticket <–æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã>`
2. –ë–æ—Ç —Å–æ–∑–¥–∞—ë—Ç –∑–∞—è–≤–∫—É —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π "–î—Ä—É–≥–æ–µ" –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º "–°—Ä–µ–¥–Ω–∏–π" (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
3. –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ —á–∞—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º —Å –Ω–æ–º–µ—Ä–æ–º —Ç–∏–∫–µ—Ç–∞

### 3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞—è–≤–æ–∫ (–∞–¥–º–∏–Ω—ã)

1. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ **—á–∞—Ç/–≥—Ä—É–ø–ø—É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤**
2. –°–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç:
   - –ù–æ–º–µ—Ä —Ç–∏–∫–µ—Ç–∞
   - –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
   - –¢–µ–∫—Å—Ç –ø—Ä–æ–±–ª–µ–º—ã (+ –≤–ª–æ–∂–µ–Ω–∏—è, –µ—Å–ª–∏ –µ—Å—Ç—å)
   - –ò–º—è –∏ @username –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ö–Ω–æ–ø–∫–∞ **"–í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É"**
3. –ê–¥–º–∏–Ω –Ω–∞–∂–∏–º–∞–µ—Ç "–í–∑—è—Ç—å –≤ —Ä–∞–±–æ—Ç—É" ‚Üí –∑–∞—è–≤–∫–∞ –∑–∞–∫—Ä–µ–ø–ª—è–µ—Ç—Å—è –∑–∞ –Ω–∏–º
4. –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ "–ó–∞—è–≤–∫—É –≤–∑—è–ª: @admin_name"
5. –î—Ä—É–≥–∏–µ –∞–¥–º–∏–Ω—ã –±–æ–ª—å—à–µ –Ω–µ –º–æ–≥—É—Ç –≤–∑—è—Ç—å —ç—Ç—É –∑–∞—è–≤–∫—É

### 4. –†–∞–±–æ—Ç–∞ —Å –∑–∞—è–≤–∫–æ–π (–∞–¥–º–∏–Ω)

- –ü–æ—Å–ª–µ –≤–∑—è—Ç–∏—è –∑–∞—è–≤–∫–∏ –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç:
  - **–û—Ç–≤–µ—Ç–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é** ‚Äî –±–æ—Ç –ø–µ—Ä–µ—Å—ã–ª–∞–µ—Ç –æ—Ç–≤–µ—Ç –≤ –õ–° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - **–ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é** ‚Äî –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
  - **–°–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç** ‚Äî `/priority #00042 high`
  - **–ü–µ—Ä–µ–¥–∞—Ç—å –¥—Ä—É–≥–æ–º—É –∞–¥–º–∏–Ω—É** ‚Äî `/transfer #00042`
  - **–ó–∞–∫—Ä—ã—Ç—å –∑–∞—è–≤–∫—É** ‚Äî –∫–Ω–æ–ø–∫–∞ "–ó–∞–∫—Ä—ã—Ç—å" –∏–ª–∏ `/close #00042`
- –î–∏–∞–ª–æ–≥ –º–µ–∂–¥—É –∞–¥–º–∏–Ω–æ–º –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–¥—ë—Ç **—á–µ—Ä–µ–∑ –±–æ—Ç–∞** (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç, –∫—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ)

### 5. –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

- `/my` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ "–ú–æ–∏ –∑–∞—è–≤–∫–∏" ‚Äî —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/status #00042` ‚Äî —Å—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∑–∞—è–≤–∫–∏
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
  - –ó–∞—è–≤–∫–∞ –≤–∑—è—Ç–∞ –≤ —Ä–∞–±–æ—Ç—É
  - –û—Ç–≤–µ—Ç –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
  - –ó–∞—è–≤–∫–∞ –∑–∞–∫—Ä—ã—Ç–∞
- –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –±–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç –æ—Ü–µ–Ω–∫—É (1-5 –∑–≤—ë–∑–¥)

### 6. –°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–∫–∏

```
new ‚Üí in_progress ‚Üí closed
                  ‚Üí on_hold (–æ–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
```

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `new` | –°–æ–∑–¥–∞–Ω–∞, –æ–∂–∏–¥–∞–µ—Ç –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è |
| `in_progress` | –í–∑—è—Ç–∞ –∞–¥–º–∏–Ω–æ–º, –≤ —Ä–∞–±–æ—Ç–µ |
| `on_hold` | –û–∂–∏–¥–∞–Ω–∏–µ –¥–æ–ø. –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| `closed` | –ó–∞–∫—Ä—ã—Ç–∞ |

### 7. –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

**–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é |
| `/new` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É |
| `/my` | –°–ø–∏—Å–æ–∫ –º–æ–∏—Ö –∑–∞—è–≤–æ–∫ |
| `/status <–Ω–æ–º–µ—Ä>` | –°—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ |
| `/cancel` | –û—Ç–º–µ–Ω–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –¥–µ–π—Å—Ç–≤–∏–µ (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏) |

**–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:**
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/tickets` | –°–ø–∏—Å–æ–∫ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∑–∞—è–≤–æ–∫ |
| `/close <–Ω–æ–º–µ—Ä>` | –ó–∞–∫—Ä—ã—Ç—å –∑–∞—è–≤–∫—É |
| `/priority <–Ω–æ–º–µ—Ä> <low/medium/high>` | –°–º–µ–Ω–∏—Ç—å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
| `/transfer <–Ω–æ–º–µ—Ä>` | –ü–µ—Ä–µ–¥–∞—Ç—å –∑–∞—è–≤–∫—É –¥—Ä—É–≥–æ–º—É –∞–¥–º–∏–Ω—É |
| `/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞—è–≤–∫–∞–º |

**–î–ª—è —Å—Ç–∞—Ä—à–µ–≥–æ –∞–¥–º–∏–Ω–∞:**
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/addadmin <user_id>` | –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| `/removeadmin <user_id>` | –£–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ |
| `/admins` | –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ |

### 8. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è

- –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ `new` –±–æ–ª–µ–µ **30 –º–∏–Ω—É—Ç** ‚Äî –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ —á–∞—Ç –∞–¥–º–∏–Ω–æ–≤
- –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ `on_hold` –±–æ–ª–µ–µ **24 —á–∞—Å–æ–≤** ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –ï—Å–ª–∏ –∑–∞—è–≤–∫–∞ –≤ —Å—Ç–∞—Ç—É—Å–µ `in_progress` –±–æ–ª–µ–µ **48 —á–∞—Å–æ–≤** ‚Äî –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∞–¥–º–∏–Ω—É

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)

```env
BOT_TOKEN=telegram_bot_token_here
ADMIN_CHAT_ID=id_–≥—Ä—É–ø–ø—ã_–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
SENIOR_ADMIN_IDS=123456789,987654321
DATABASE_URL=sqlite+aiosqlite:///data/bot.db
LOG_LEVEL=INFO
```

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Ticket (–∑–∞—è–≤–∫–∞)
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | INTEGER PK | –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç |
| ticket_number | TEXT UNIQUE | –ù–æ–º–µ—Ä —Ç–∏–∫–µ—Ç–∞ (#00001) |
| user_id | INTEGER | Telegram ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| admin_id | INTEGER NULL | Telegram ID –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞ |
| category | TEXT | –ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø—Ä–æ–±–ª–µ–º—ã |
| priority | TEXT | low / medium / high |
| status | TEXT | new / in_progress / on_hold / closed |
| description | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã |
| created_at | DATETIME | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| updated_at | DATETIME | –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |
| closed_at | DATETIME NULL | –î–∞—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∏—è |
| rating | INTEGER NULL | –û—Ü–µ–Ω–∫–∞ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (1-5) |
| message_id | INTEGER NULL | ID —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç–µ –∞–¥–º–∏–Ω–æ–≤ (–¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–æ–∫) |

### User (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | INTEGER PK | Telegram ID |
| username | TEXT NULL | @username |
| full_name | TEXT | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| created_at | DATETIME | –î–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è |

### Admin (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | INTEGER PK | Telegram ID |
| username | TEXT NULL | @username |
| full_name | TEXT | –ò–º—è |
| is_senior | BOOLEAN | –°—Ç–∞—Ä—à–∏–π –∞–¥–º–∏–Ω |
| is_active | BOOLEAN | –ê–∫—Ç–∏–≤–µ–Ω |
| added_at | DATETIME | –î–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è |

### TicketMessage (–∏—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π)
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | INTEGER PK | –ê–≤—Ç–æ–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç |
| ticket_id | INTEGER FK | –°—Å—ã–ª–∫–∞ –Ω–∞ —Ç–∏–∫–µ—Ç |
| sender_id | INTEGER | –ö—Ç–æ –æ—Ç–ø—Ä–∞–≤–∏–ª |
| sender_role | TEXT | user / admin |
| text | TEXT | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è |
| file_id | TEXT NULL | ID —Ñ–∞–π–ª–∞/—Ñ–æ—Ç–æ –≤ Telegram |
| created_at | DATETIME | –î–∞—Ç–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è |

## –ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –ë–æ—Ç –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ** (asyncio)
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚Äî –±–æ—Ç –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ, –≤–∑—è—Ç–∏–µ, –∑–∞–∫—Ä—ã—Ç–∏–µ –∑–∞—è–≤–æ–∫)
- Graceful shutdown –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ
- –ó–∞—è–≤–∫–∏ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –±–æ—Ç–∞ (–≤—Å—ë —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î)

## –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Ñ–∞–∑—ã)

1. **–§–∞–∑–∞ 1 ‚Äî –û—Å–Ω–æ–≤–∞:** –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞, –∫–æ–Ω—Ñ–∏–≥, –ë–î, /start, —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –∏–∑ –õ–°
2. **–§–∞–∑–∞ 2 ‚Äî –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å:** –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–æ–∫ –≤ —á–∞—Ç –∞–¥–º–∏–Ω–æ–≤, –∫–Ω–æ–ø–∫–∞ "–í–∑—è—Ç—å", –∑–∞–∫—Ä—ã—Ç–∏–µ
3. **–§–∞–∑–∞ 3 ‚Äî –î–∏–∞–ª–æ–≥:** –ü–µ—Ä–µ–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å‚Üî–∞–¥–º–∏–Ω —á–µ—Ä–µ–∑ –±–æ—Ç–∞
4. **–§–∞–∑–∞ 4 ‚Äî –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ:** –ì—Ä—É–ø–ø–æ–≤—ã–µ –∑–∞—è–≤–∫–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –æ—Ü–µ–Ω–∫–∏
